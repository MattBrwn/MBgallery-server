{"version":3,"sources":["components/MyNav.js","components/MyFooter.js","config.js","pages/SignUp.js","pages/LogIn.js","pages/HomePage.js","pages/MyAlbum.js","components/ImageDetail.js","components/AddForm.js","components/EditForm.js","pages/MyPurchase.js","components/ErrorPage.js","App.js","index.js"],"names":["MyNav","props","Navbar","bg","expand","Toggle","aria-controls","Collapse","id","Nav","className","to","user","onClick","onLogout","style","marginLeft","MyFooter","Component","process","SignUp","onSubmit","onSignUp","htmlFor","type","name","error","color","errorMessage","class","LogIn","console","log","onLogIn","HomePage","MyAlbum","images","map","image","src","imageUrl","alt","_id","title","description","ImageDetail","state","this","imageId","match","params","axios","get","config","then","response","setState","data","catch","onDelete","handleBuy","width","genre","price","AddForm","onAdd","placeholder","accept","EditForm","handleNameChange","event","text","target","value","cloneImage","JSON","parse","stringify","handleDescChange","onEdit","onChange","MyPurchase","purchases","withCredentials","eachPurchase","image_id","totalprice","ErrorPage","App","loggedInUser","is_admin","handleSignUp","preventDefault","username","email","password","post","history","push","err","handleLogIn","handleLogout","handlePurchase","purchase","date","Date","handleDelete","delete","filteredImages","filter","handleEditImage","patch","newAlbum","singleImage","Album","handleSubmit","files","uploadForm","FormData","append","exact","path","component","render","routeProps","onPurchase","withRouter","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ea210a34.chunk.js","sourcesContent":["import React from  'react'\nimport {Navbar, Nav} from  'react-bootstrap'\nimport {Link} from  'react-router-dom'\n\nfunction MyNav(props) {\n  return (\n    <Navbar  bg=\"light\"  expand=\"lg\">\n      <Navbar.Toggle  aria-controls=\"basic-navbar-nav\"  />\n      <Navbar.Collapse  id=\"basic-navbar-nav\">\n        <Nav  className=\"mr-auto\">\n        <Link  to=\"/\">Home</Link>\n          <Link  to=\"/album\">Portfolio</Link>\n          <Link  to=\"/add-form\">Image upload</Link>\n          <Link  to=\"/purchase\">My Purchase</Link>\n          {\n            props.user ? (\n              <button onClick={props.onLogout}>Logout</button>\n            ) : (\n              <>\n                <Link  style={{marginLeft: '10px'}}  to=\"/login\">LogIn</Link>\n                <Link  style={{marginLeft: '10px'}}  to=\"/signup\">SignUp</Link>\n                <Link  style={{marginLeft: '10px'}}  to=\"/\">LogOut</Link>\n              </>\n            )\n          }\n        </Nav>\n      </Navbar.Collapse>\n    </Navbar>\n    )\n}\nexport default MyNav\n","import React, { Component } from 'react'\n\n class MyFooter extends Component {\n    render() {\n        return (\n            <div>\n                {/* <h5>This is the Footer</h5> */}\n            </div>\n        )\n    }\n}\nexport default MyFooter","export default {\n\tAPI_URL: process.env.REACT_APP_SERVER_URL\n}\n","import React from 'react';\n\nfunction SignUp(props){\n\n    return (\n        <form onSubmit={props.onSignUp}>\n            <div className=\"form-group\">\n                <label htmlFor=\"InputUsername\">Username</label>\n                <input type=\"text\" className=\"form-control\" id=\"InputUsername\" name=\"username\" />\n            </div>\n            <div className=\"form-group\">\n                <label htmlFor=\"InputEmail\">Email address</label>\n                <input type=\"email\" className=\"form-control\" id=\"InputEmail\" name=\"email\" />\n                <small id=\"emailHelp\" className=\"form-text text-muted\">We'll never share your email with anyone else.</small>\n            </div>\n            <div className=\"form-group\">\n                <label htmlFor=\"InputPassword\">Password</label>\n                <input name=\"password\" type=\"password\" className=\"form-control\" id=\"InputPassword\" />\n            </div>\n            {\n                props.error ? (\n                    <p style={{color: 'red'}}>{ props.error.errorMessage}</p>\n                ) : null\n            }\n            <div class=\"form-group mt-3 mb-4\">\n                <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\n            </div>\n        </form>\n    )\n}\n\nexport default SignUp\n","import React from 'react';\n\nfunction LogIn(props){\n    console.log('RENDERED LOGIN')\n    return (\n        <form onSubmit={props.onLogIn}>\n            <div className=\"form-group\">\n                <label htmlFor=\"InputEmail\">Email address</label>\n                <input type=\"email\" className=\"form-control\" id=\"InputEmail\" name=\"email\" />\n            </div>\n            <div className=\"form-group\">\n                <label htmlFor=\"InputPassword\">Password</label>\n                <input name=\"password\" type=\"password\" className=\"form-control\" id=\"InputPassword\" />\n            </div>\n            <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\n        </form>\n    )\n}\n\nexport default LogIn","import React, { Component } from 'react'\nimport { Link } from \"react-router-dom\"\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\n// import MyAlbum from \"./MyAlbum\";\n\n\n class HomePage extends Component {\n  render() {\n    return (\n      <div> \n        <div class=\"home\">\n          <h1>M.B. | Gallery</h1>\n          <h5>Welcome!</h5>\n        </div>\n      \n        <div class=\"home\">\n        <div class=\"row text-center\" >\n          \n            <div class=\"home\">\n              <Link to={`/album`}><h2>My Portfolio</h2></Link>\n            </div>\n          </div>\n        </div>\n        </div>\n        \n    )\n  }\n}\n\nexport default HomePage;\n","import React from 'react';\nimport { Link } from \"react-router-dom\"\n\nfunction MyAlbum(props) {\n\n  const showAlbum = () => {\n  \n    return props.images.map(image => {\n      return (\n        \n        \n          <div key={image._id}>\n            <div class=\"album-picture\">\n            <img  src={image.imageUrl} alt='this image' /> \n            <div>\n              <Link to={`/album/${image._id}`}><h2>{image.title}</h2></Link>\n              \n              <div class=\"album-decription\">\n              <p>{image.description}</p>\n\n              </div>\n            </div>\n            \n          </div>\n        </div>\n        \n      );\n    });\n  };\nreturn <div>{showAlbum()}</div>;\n}\n\nexport default MyAlbum;\n","import axios from 'axios'\nimport React, { Component } from 'react'\nimport config from '../config'\nimport {Link, Redirect} from 'react-router-dom'\n\n class ImageDetail extends Component {\n\n  state = {\n    image: {}\n  }\n\n\n  \n\n  componentDidMount(){\n    console.log(this.props) \n \n   let imageId = this.props.match.params.imageId\n    axios.get(`${config.API_URL}/api/album/${imageId}`)\n      .then((response) => {\n        this.setState({ image: response.data })\n      })\n      .catch(() => {\n        console.log('Detail fetch failed')\n      })\n  }\n\n  render() {\n    const {image} = this.state\n    const{onDelete, handleBuy, user}= this.props\n    console.log(this.props)\n\n    return (\n      <div>      \n        <img style={{ width: '400px' }} src={image.imageUrl} alt={image.title} />\n        <div>\n          <h5>{image.title}</h5>\n        </div>\n        <div>Description: <br/>\n          <p>{image.description}</p></div>\n          <div>Genre:<p>{image.genre}</p></div>\n          <div>Price:<p>{image.price} €</p></div>\n        <div>\n          <Link to={`/album/${image._id}/edit`}>\n            <button>Edit</button>\n          </Link>\n        <button onClick={() => { onDelete(image._id)  } } >Delete</button>\n        <button onClick={() => { handleBuy(image._id, image.price)  } } >Buy this picture</button>\n        </div>  \n      </div>\n    )\n  }\n}\nexport default ImageDetail;","import React, { Component } from 'react'\n\nclass AddForm extends Component {\n   \n    \n    render() {\n        return (\n          <form onSubmit={this.props.onAdd}>\n            <input name=\"title\" type=\"text\" placeholder=\"Enter title\"/>\n            <input name=\"genre\" type=\"text\" placeholder=\"Enter Genre\"/>\n            <input name=\"description\" type=\"text\" placeholder=\"Enter description\"/>\n            <input name=\"price\" type=\"number\" placeholder=\"Enter price in €\"/>\n            <input name=\"imageUrl\" type=\"file\" accept=\"image/png, image/jpg\"/>\n            <div class=\"form-group mt-3 mb-4\">\n              <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\n            </div>\n          </form>\n        )\n      }\n    }\n\n\nexport default AddForm","import axios from 'axios'\nimport React, { Component } from 'react'\nimport config from '../config'\n\nexport default class EditForm extends Component {\n\n  state = {\n    image: {}\n  }\n\n  componentDidMount(){\n    console.log(this.props) \n    let imageId = this.props.match.params.imageId\n    axios.get(`${config.API_URL}/api/album/${imageId}`)\n      .then((response) => {\n        this.setState({\n          image: response.data\n        })\n      })\n      .catch(() => {\n        console.log('Detail fetch failed')\n      })\n  }\n\n  handleNameChange = (event) => {\n    let text = event.target.value\n    console.log(text)\n    let cloneImage = JSON.parse(JSON.stringify(this.state.image))\n    cloneImage.title = text\n\n    this.setState({\n      image: cloneImage\n    })\n  }\n\n  handleDescChange = (event) => {\n    let text = event.target.value\n    let cloneImage = JSON.parse(JSON.stringify(this.state.image))\n    cloneImage.description = text\n\n    this.setState({\n      image: cloneImage\n    })\n  }\n\n  render() {\n    const {image} = this.state\n    const {onEdit} = this.props\n    return (\n      <div>\n          <h5>Title</h5><input type=\"text\" onChange={this.handleNameChange} value={image.title}/>\n          <h5>Description</h5> <input type=\"text\" onChange={this.handleDescChange} value={image.description}/>\n          <h5>Genre</h5> <input type=\"text\" onChange={this.handleDescChange} value={image.genre}/>\n          \n          <button onClick={ () => { onEdit(image) } }  >Submit</button>\n\n      </div>\n    )\n  }\n}\n\n","import React, { Component } from 'react';\nimport axios from \"axios\";\nimport config from '../config';\n\n\n class MyPurchase extends Component {\n    \n    state = {\n        purchases: [],\n        images: []\n    }\n\n\n    componentDidMount() {\n        // axios call here\n        // will get purchases from backend\n        // it will save purchases in purchases state\n        axios.get(`${config.API_URL}/api/purchase`, {withCredentials: true})\n        \n        .then((response) => {\n            console.log(\"response from API\", response.data)\n            this.setState({purchases: response.data})\n        })\n        .catch(() => {\n          console.log('Detail fetch failed')\n        })\n    }\n       \n    \n    render() {\n        const {purchases} = this.state\n        const {images} = this.state\n        return (\n            <div>\n                <h1>My purchases</h1>\n                {purchases.map(eachPurchase => {\n                    return (\n                        <div>\n                       <img src={eachPurchase.image_id.imageUrl}/>\n                       <h4>price= {eachPurchase.totalprice} €</h4>\n                       </div>\n                        \n                    )\n                })}\n            </div>\n        )\n    }\n    }\n export default MyPurchase;\n","import React from 'react'\n\nfunction ErrorPage() {\n    return (\n     <div>\n        <h3>404 page not found</h3>\n        <p>We are sorry but the page you are looking for does not exist.</p>\n     </div>\n    )\n}\n \nexport default ErrorPage","import React, { Component } from 'react'\nimport { Switch, Route, withRouter } from \"react-router-dom\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport MyNav from \"./components/MyNav\";\nimport MyFooter from \"./components/MyFooter\";\nimport axios from \"axios\";\nimport config from './config'\nimport SignUp from \"./pages/SignUp\";\nimport LogIn from \"./pages/LogIn\";\nimport HomePage from \"./pages/HomePage\";\nimport MyAlbum from \"./pages/MyAlbum\";\nimport ImageDetail from \"./components/ImageDetail\";\nimport AddForm from \"./components/AddForm\";\nimport EditForm from \"./components/EditForm\";\nimport MyPurchase from \"./pages/MyPurchase\";\nimport ErrorPage from \"./components/ErrorPage\";\n// import AllPurchases from \"./pages/AllPurchases\";\n// import { loadStripe } from \"@stripe/stripe-js\";\n// import { Elements } from \"@stripe/react-stripe-js\";\n// import CheckoutForm from \"./components/CheckoutForm\";\n\n\n// import MyNav from \"./components/MyNav\";\n\nclass App extends Component {\n  state = {\n    images: [],\n    loggedInUser: null,\n    is_admin: false,\n    error: null,\n  }\n\n  // Get initial data\n  componentDidMount(){\n    axios.get(`${config.API_URL}/api/album`, {withCredentials:true})\n      .then((response) => {\n        console.log(\"response from API\", response.data)\n        this.setState({ images: response.data})\n      })\n      .catch(() => {\n        console.log('Fetching failed')\n      })\n\n    if (!this.state.loggedInUser) {\n      axios.get(`${config.API_URL}/api/user`, {withCredentials: true})\n        .then((response) => {\n            this.setState({\n              loggedInUser: response.data\n            })\n        })\n        .catch(() => {\n\n        })\n    }  \n  }\n\n  handleSignUp = (event) => {\n    \n    event.preventDefault()\n    let user = {\n      username: event.target.username.value,\n      email: event.target.email.value,\n      password: event.target.password.value\n    } \n\n    axios.post(`${config.API_URL}/api/signup`, user, {withCredentials: true})\n      .then((response) => {\n          this.setState({\n            loggedInUser: response.data\n          }, () => {\n            this.props.history.push('/')\n          })\n      })\n      .catch((err) => {\n          this.setState({\n            error: err.response.data\n          })\n      })\n }\n\n handleLogIn = (event) => {\n   \n  event.preventDefault()\n  let user = {\n    email: event.target.email.value,\n    password: event.target.password.value\n  } \n\n  axios.post(`${config.API_URL}/api/login`, user, {withCredentials: true})\n    .then((response) => {\n        this.setState({\n          loggedInUser: response.data\n        }, () => {\n          this.props.history.push('/')\n        })\n    })\n    .catch((err) => {\n        console.log('Something went wrong', err)\n    })\n }\n\n handleLogout = () => {\n  \n  axios.post(`${config.API_URL}/api/logout`, {}, {withCredentials: true})\n  .then(() => {\n      this.setState({\n        loggedInUser: null\n      }, () => {\n        this.props.history.push('/')\n      })\n  })\n\n }\n\n handlePurchase = () => {\n  axios.get(`${config.API_URL}/api/purchase`, {}, {withCredentials: true})\n  const {images, loggedInUser, error} = this.state\n   .then(() => {\n      this.setState({\n        loggedInUser: null\n      }, () => {\n        this.props.history.push('/')\n      })\n  })\n\n }\n  \n handleBuy = (purchase, price) => {\n    console.log(purchase)\n        //1. Make an API call to the server side Route to create a purchase\n      axios.post(`${config.API_URL}/api/purchase`, {\n          image_id: purchase,\n          totalprice: price,\n          date : new Date()\n\n        },\n        {withCredentials: true}\n        )\n        .then((response) => {\n            // 2. Once the server has successfully created a new image, update your state that is visible to the user\n            this.setState({\n              \n            }, () => {\n              //3. Once the state is update, redirect the user to the album page\n              this.props.history.push('/album')\n            })\n       })\n        .catch((err) => {\n          console.log('Create purchase failed', err)\n        })\n }\n\n handleDelete = (imageId) => {\n\n  //1. Make an API call to the server side Route to delete that specific image\n    axios.delete(`${config.API_URL}/api/album/${imageId}`, {}, {withCredentials: true})\n    // console.log(image._id)\n      .then(() => {\n         // 2. Once the server has successfully created a new image, update your state that is visible to the user\n          let filteredImages = this.state.images.filter((image) => {\n            return image._id !== imageId && is_admin\n          })\n\n          this.setState({\n            images: filteredImages\n          }, () => {\n            this.props.history.push('/album')\n          })\n      })\n      .catch((err) => {\n        console.log('Delete failed', err)\n      })\n\n }\n\n handleEditImage = (image) => {\n   console.log(image)\n  axios.patch(`${config.API_URL}/api/album/${image._id}`, {\n    title: image.title,\n    genre: image.genre,\n    description: image.description,\n    imageUrl: image.imageUrl,\n    price: image.price,\n  }, {withCredentials: true})\n    .then(() => {\n        let newAlbum = this.state.images.map((singleImage) => {\n            if (image._id === singleImage._id) {\n              singleImage.title  = image.title\n              singleImage.description = image.description\n              singleImage.genre = image.genre\n              singleImage.price = image.price\n            }\n            return singleImage\n        })\n        this.setState({\n          Album: newAlbum\n        }, () => {\n          this.props.history.push(`/album/${image._id}`)\n        })\n\n        \n    })\n    .catch((err) => {\n      console.log('Edit failed', err)\n    })\n  }\n\n handleSubmit = (event) => {\n  event.preventDefault()\n    let title = event.target.title.value \n    let genre = event.target.genre.value\n    let description = event.target.description.value\n    let price = event.target.price.value\n    let image = event.target.imageUrl.files[0]\n  \n  let uploadForm = new FormData()\n  uploadForm.append('imageUrl', image)\n\n    // send image to cloudinary\n    axios.post(`${config.API_URL}/api/upload`, uploadForm, {withCredentials: true})\n      .then((response) => {\n            //1. Make an API call to the server side Route to create a new image\n          axios.post(`${config.API_URL}/api/create`, {\n            title: title,\n            genre: genre,\n            description: description,\n            image: response.data.image, \n            price : event.target.price.value,\n          })\n            .then((response) => {\n                // 2. Once the server has successfully created a new image, update your state that is visible to the user\n                this.setState({\n                  image: [response.data, ...this.state.image]\n                }, () => {\n                  //3. Once the state is update, redirect the user to the album page\n                  this.props.history.push('/album')\n                })\n\n            })\n            .catch((err) => {\n              console.log('Create failed', err)\n            })\n      })\n      .catch(() => {\n\n      })\n    \n  }\n  \n\n\n\n  render(){\n   \n    return (\n      <div>\n        <MyNav onLogout={this.handleLogout} user={this.state.loggedInUser}/>\n        {/* <AllPurchases stripe={promise}>\n          {/* <CheckoutForm /> \n        </AllPurchases> */}\n        <Switch>\n          <Route exact path=\"/\" component={HomePage} />\n          <Route path=\"/signup\"  render={(routeProps) => {\n                return  <SignUp onSignUp={this.handleSignUp} {...routeProps}  />\n          }}\n          />\n          <Route path=\"/login\"  render={(routeProps) => {\n                return  <LogIn onLogIn={this.handleLogIn} {...routeProps}  />\n          }}\n          />\n          <Route exact path=\"/album\" render={(routeProps) => {\n                return  <MyAlbum  images={this.state.images}  {...routeProps}/>\n          }} \n          />\n          <Route path=\"/add-form\" render={(routeProps) => {\n                return <AddForm onAdd={this.handleSubmit}  {...routeProps}/>\n          }} \n          />\n          <Route  exact path=\"/album/:imageId\" render={(routeProps) => {\n                return <ImageDetail onDelete={this.handleDelete}  handleBuy={this.handleBuy} {...routeProps}/>\n            }} />\n           <Route exact path=\"/album/:imageId/edit\" render={(routeProps) => {\n                return <EditForm onEdit={this.handleEditImage} onDelete={this.handleDelete} {...routeProps}/>\n            }} />\n            <Route exact path=\"/purchase\" render={(routeProps) => {\n                return <MyPurchase onPurchase={this.handlePurchase}/>\n            }} />\n            {/* <Route path=\"\" render={(routeProps) => {\n                return <ErrorPage />\n            }} /> */}\n        </Switch>\n        <MyFooter />\n      </div>\n    )\n  }\n}\n\nexport default withRouter(App);\n\n\n\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}