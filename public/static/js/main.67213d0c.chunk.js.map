{"version":3,"sources":["components/MyNav.js","components/MyFooter.js","config.js","pages/SignUp.jsx","pages/LogIn.js","pages/HomePage.js","pages/MyAlbum.js","components/ImageDetail.js","components/AddForm.js","components/EditForm.js","App.js","index.js"],"names":["MyNav","props","Navbar","bg","expand","Toggle","aria-controls","Collapse","id","Nav","className","to","user","onClick","onLogout","style","marginLeft","MyFooter","Component","process","SignUp","onSubmit","onSignUp","htmlFor","type","name","error","color","errorMessage","LogIn","console","log","onLogIn","HomePage","MyAlbum","images","length","map","image","width","src","imageUrl","alt","_id","title","ImageDetail","state","this","imageId","match","params","axios","get","config","then","response","setState","data","catch","onDelete","handleBuy","description","genre","price","AddForm","onAdd","placeholder","EditForm","handleNameChange","event","text","target","value","cloneImage","JSON","parse","stringify","handleDescChange","onEdit","onChange","App","loggedInUser","handleSignUp","preventDefault","username","email","password","post","withCredentials","history","push","err","handleLogIn","handleLogout","purchase","image_id","totalprice","date","Date","handleDelete","delete","filteredImages","filter","handleEditImage","patch","newAlbum","singleImage","Album","handleSubmit","files","uploadForm","FormData","append","exact","path","component","render","routeProps","withRouter","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.67213d0c.chunk.js","sourcesContent":["import React from  'react'\nimport {Navbar, Nav} from  'react-bootstrap'\nimport {Link} from  'react-router-dom'\n\nfunction MyNav(props) {\n  return (\n    <Navbar  bg=\"light\"  expand=\"lg\">\n      <Navbar.Toggle  aria-controls=\"basic-navbar-nav\"  />\n      <Navbar.Collapse  id=\"basic-navbar-nav\">\n        <Nav  className=\"mr-auto\">\n        <Link  to=\"/\">Home</Link>\n          <Link  to=\"/album\">Portfolio</Link>\n          <Link  to=\"/add-form\">Image upload</Link>\n          <Link  to=\"/purchase\">My Cart</Link>\n          {\n            props.user ? (\n              <button onClick={props.onLogout}>Logout</button>\n            ) : (\n              <>\n                <Link  style={{marginLeft: '10px'}}  to=\"/login\">LogIn</Link>\n                <Link  style={{marginLeft: '10px'}}  to=\"/signup\">SignUp</Link>\n                <Link  style={{marginLeft: '10px'}}  to=\"/\">LogOut</Link>\n              </>\n            )\n          }\n        </Nav>\n      </Navbar.Collapse>\n    </Navbar>\n    )\n}\nexport default MyNav\n","import React, { Component } from 'react'\n\n class MyFooter extends Component {\n    render() {\n        return (\n            <div>\n                {/* <h5>This is the Footer</h5> */}\n            </div>\n        )\n    }\n}\nexport default MyFooter","export default {\n\tAPI_URL: process.env.REACT_APP_SERVER_URL\n}\n","import React from 'react';\n\nfunction SignUp(props){\n\n    return (\n        <form onSubmit={props.onSignUp}>\n            <div className=\"form-group\">\n                <label htmlFor=\"InputUsername\">Username</label>\n                <input type=\"text\" className=\"form-control\" id=\"InputUsername\" name=\"username\" />\n            </div>\n            <div className=\"form-group\">\n                <label htmlFor=\"InputEmail\">Email address</label>\n                <input type=\"email\" className=\"form-control\" id=\"InputEmail\" name=\"email\" />\n                <small id=\"emailHelp\" className=\"form-text text-muted\">We'll never share your email with anyone else.</small>\n            </div>\n            <div className=\"form-group\">\n                <label htmlFor=\"InputPassword\">Password</label>\n                <input name=\"password\" type=\"password\" className=\"form-control\" id=\"InputPassword\" />\n            </div>\n            {\n                props.error ? (\n                    <p style={{color: 'red'}}>{ props.error.errorMessage}</p>\n                ) : null\n            }\n            <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\n        </form>\n    )\n}\n\nexport default SignUp\n","import React from 'react';\n\nfunction LogIn(props){\n    console.log('RENDERED LOGIN')\n    return (\n        <form onSubmit={props.onLogIn}>\n            <div className=\"form-group\">\n                <label htmlFor=\"InputEmail\">Email address</label>\n                <input type=\"email\" className=\"form-control\" id=\"InputEmail\" name=\"email\" />\n            </div>\n            <div className=\"form-group\">\n                <label htmlFor=\"InputPassword\">Password</label>\n                <input name=\"password\" type=\"password\" className=\"form-control\" id=\"InputPassword\" />\n            </div>\n            <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\n        </form>\n    )\n}\n\nexport default LogIn","import React, { Component } from 'react'\nimport { Link } from \"react-router-dom\"\n\n// import MyAlbum from \"./MyAlbum\";\n\n\n class HomePage extends Component {\n  render() {\n    return (\n      <div> \n        <h1>M.B. | Gallery</h1>\n        <h5>Welcome here!</h5>\n        <Link to={`/album`}><h2>My Portfolio</h2></Link>\n      </div>\n    )\n  }\n}\n\nexport default HomePage;\n","import React from 'react';\nimport { Link } from \"react-router-dom\"\nimport {Spinner} from 'react-bootstrap'\n\nfunction MyAlbum(props) {\n\n  // console.log(\"props in MyAlbum component: \", props);\n\n  const showAlbum = () => {\n    if (props.images.length === 0) return <h1>Loading</h1>\n    {/* <Spinner animation=\"border\" variant=\"danger\" /> */}\n    return props.images.map(image => {\n      return (\n        <div key={image._id}>\n          <img style={{ width: '300px' }} src={image.imageUrl} alt='this image' /> \n          <Link to={`/album/${image._id}`}><h2>{image.title}</h2></Link>\n        </div>\n      );\n    });\n  };\nreturn <div>{showAlbum()}</div>;\n}\n\nexport default MyAlbum;\n","import axios from 'axios'\nimport React, { Component } from 'react'\nimport config from '../config'\nimport {Link, Redirect} from 'react-router-dom'\n\n class ImageDetail extends Component {\n\n  state = {\n    image: {}\n  }\n\n\n  \n\n  componentDidMount(){\n    console.log(this.props) \n \n   let imageId = this.props.match.params.imageId\n    axios.get(`${config.API_URL}/api/album/${imageId}`)\n      .then((response) => {\n        this.setState({ image: response.data })\n      })\n      .catch(() => {\n        console.log('Detail fetch failed')\n      })\n  }\n\n  render() {\n    const {image} = this.state\n    const{onDelete, handleBuy, user}= this.props\n    console.log(this.props)\n\n    return (\n      <div>      \n        <img style={{ width: '400px' }} src={image.imageUrl} alt={image.title} />\n        <div>\n          <h5>{image.title}</h5>\n        </div>\n        <div>Description: <br/>\n          <p>{image.description}</p></div>\n          <div>Genre:<p>{image.genre}</p></div>\n          <div>Price:<p>{image.price} €</p></div>\n        <div>\n          <Link to={`/album/${image._id}/edit`}>\n            <button>Edit</button>\n          </Link>\n        <button onClick={() => { onDelete(image._id)  } } >Delete</button>\n        <button onClick={() => { handleBuy(image._id, image.price)  } } >Buy this picture</button>\n        </div>  \n      </div>\n    )\n  }\n}\nexport default ImageDetail;","import React, { Component } from 'react'\n\nclass AddForm extends Component {\n   \n    \n    render() {\n        return (\n          <form onSubmit={this.props.onAdd}>\n            <input name=\"title\" type=\"text\" placeholder=\"Enter title\"/>\n            <input name=\"genre\" type=\"text\" placeholder=\"Enter Genre\"/>\n            <input name=\"description\" type=\"text\" placeholder=\"Enter description\"/>\n            <input name=\"price\" type=\"number\" placeholder=\"Enter price in €\"/>\n            <button type=\"submit\" >Submit</button>\n          </form>\n        )\n      }\n    }\n\n\nexport default AddForm","import axios from 'axios'\nimport React, { Component } from 'react'\nimport config from '../config'\n\nexport default class EditForm extends Component {\n\n  state = {\n    image: {}\n  }\n\n  componentDidMount(){\n    console.log(this.props) \n    let imageId = this.props.match.params.imageId\n    axios.get(`${config.API_URL}/api/album/${imageId}`)\n      .then((response) => {\n        this.setState({\n          image: response.data\n        })\n      })\n      .catch(() => {\n        console.log('Detail fetch failed')\n      })\n  }\n\n  handleNameChange = (event) => {\n    let text = event.target.value\n    console.log(text)\n    let cloneImage = JSON.parse(JSON.stringify(this.state.image))\n    cloneImage.title = text\n\n    this.setState({\n      image: cloneImage\n    })\n  }\n\n  handleDescChange = (event) => {\n    let text = event.target.value\n    let cloneImage = JSON.parse(JSON.stringify(this.state.image))\n    cloneImage.description = text\n\n    this.setState({\n      image: cloneImage\n    })\n  }\n\n  render() {\n    const {image} = this.state\n    const {onEdit} = this.props\n    return (\n      <div>\n          <h5>Title</h5><input type=\"text\" onChange={this.handleNameChange} value={image.title}/>\n          <h5>Description</h5> <input type=\"text\" onChange={this.handleDescChange} value={image.description}/>\n          <h5>Genre</h5> <input type=\"text\" onChange={this.handleDescChange} value={image.genre}/>\n          \n          <button onClick={ () => { onEdit(image) } }  >Submit</button>\n\n      </div>\n    )\n  }\n}\n\n","import React, { Component } from 'react'\nimport { Switch, Route, withRouter } from \"react-router-dom\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport MyNav from \"./components/MyNav\";\nimport MyFooter from \"./components/MyFooter\";\nimport axios from \"axios\";\nimport config from './config'\nimport SignUp from \"./pages/SignUp\";\nimport LogIn from \"./pages/LogIn\";\nimport HomePage from \"./pages/HomePage\";\nimport MyAlbum from \"./pages/MyAlbum\";\nimport ImageDetail from \"./components/ImageDetail\";\nimport AddForm from \"./components/AddForm\";\nimport EditForm from \"./components/EditForm\";\n// import MyPurchase from \"./pages/MyPurchase\";\n// import AllPurchases from \"./pages/AllPurchases\";\n// import { loadStripe } from \"@stripe/stripe-js\";\n// import { Elements } from \"@stripe/react-stripe-js\";\n// import CheckoutForm from \"./components/CheckoutForm\";\n\n\n// import MyNav from \"./components/MyNav\";\n\nclass App extends Component {\n  state = {\n    images: [],\n    loggedInUser: null,\n    error: null,\n  }\n\n  // Get initial data\n  componentDidMount(){\n    axios.get(`${config.API_URL}/api/album`, {withCredentials:true})\n      .then((response) => {\n        console.log(\"response from API\", response.data)\n        this.setState({ images: response.data})\n      })\n      .catch(() => {\n        console.log('Fetching failed')\n      })\n\n    if (!this.state.loggedInUser) {\n      axios.get(`${config.API_URL}/api/user`, {withCredentials: true})\n        .then((response) => {\n            this.setState({\n              loggedInUser: response.data\n            })\n        })\n        .catch(() => {\n\n        })\n    }  \n  }\n\n  handleSignUp = (event) => {\n    \n    event.preventDefault()\n    let user = {\n      username: event.target.username.value,\n      email: event.target.email.value,\n      password: event.target.password.value\n    } \n\n    axios.post(`${config.API_URL}/api/signup`, user, {withCredentials: true})\n      .then((response) => {\n          this.setState({\n            loggedInUser: response.data\n          }, () => {\n            this.props.history.push('/')\n          })\n      })\n      .catch((err) => {\n          this.setState({\n            error: err.response.data\n          })\n      })\n }\n\n handleLogIn = (event) => {\n   \n  event.preventDefault()\n  let user = {\n    email: event.target.email.value,\n    password: event.target.password.value\n  } \n\n  axios.post(`${config.API_URL}/api/login`, user, {withCredentials: true})\n    .then((response) => {\n        this.setState({\n          loggedInUser: response.data\n        }, () => {\n          this.props.history.push('/')\n        })\n    })\n    .catch((err) => {\n        console.log('Something went wrong', err)\n    })\n }\n\n handleLogout = () => {\n  \n  axios.post(`${config.API_URL}/api/logout`, {}, {withCredentials: true})\n  .then(() => {\n      this.setState({\n        loggedInUser: null\n      }, () => {\n        this.props.history.push('/')\n      })\n  })\n\n }\n\n handleBuy = (purchase, price) => {\n    console.log(purchase)\n        //1. Make an API call to the server side Route to create a purchase\n      axios.post(`${config.API_URL}/api/purchase`, {\n          image_id: purchase,\n          totalprice: price,\n          date : new Date()\n\n        },\n        {withCredentials: true}\n        )\n        .then((response) => {\n            // 2. Once the server has successfully created a new image, update your state that is visible to the user\n            this.setState({\n              \n            }, () => {\n              //3. Once the state is update, redirect the user to the album page\n              this.props.history.push('/album')\n            })\n       })\n        .catch((err) => {\n          console.log('Create purchase failed', err)\n        })\n }\n\n handleDelete = (imageId) => {\n\n  //1. Make an API call to the server side Route to delete that specific image\n    axios.delete(`${config.API_URL}/api/album/${imageId}`, {}, {withCredentials: true})\n    // console.log(image._id)\n      .then(() => {\n         // 2. Once the server has successfully created a new image, update your state that is visible to the user\n          let filteredImages = this.state.image.filter((image) => {\n            return image._id !== imageId\n          })\n\n          this.setState({\n            image: filteredImages\n          }, () => {\n            this.props.history.push('/album')\n          })\n      })\n      .catch((err) => {\n        console.log('Delete failed', err)\n      })\n\n }\n\n handleEditImage = (image) => {\n   console.log(image)\n  axios.patch(`${config.API_URL}/api/album/${image._id}`, {\n    title: image.title,\n    genre: image.genre,\n    description: image.description,\n    imageUrl: image.imageUrl,\n    price: image.price,\n  }, {withCredentials: true})\n    .then(() => {\n        let newAlbum = this.state.images.map((singleImage) => {\n            if (image._id === singleImage._id) {\n              singleImage.title  = image.title\n              singleImage.description = image.description\n              singleImage.genre = image.genre\n              singleImage.price = image.price\n            }\n            return singleImage\n        })\n        this.setState({\n          Album: newAlbum\n        }, () => {\n          this.props.history.push(`/album/${image._id}`)\n        })\n\n        \n    })\n    .catch((err) => {\n      console.log('Edit failed', err)\n    })\n\n  }\n\n handleSubmit = (event) => {\n  event.preventDefault()\n    let title = event.target.title.value \n    let genre = event.target.genre.value\n    let description = event.target.description.value\n    let price = event.target.price.value\n    let image = event.target.imageUrl.files[0]\n  \n  let uploadForm = new FormData()\n  uploadForm.append('imageUrl', image)\n\n    // send image to cloudinary\n    axios.post(`${config.API_URL}/api/upload`, uploadForm, {withCredentials: true})\n      .then((response) => {\n            //1. Make an API call to the server side Route to create a new image\n          axios.post(`${config.API_URL}/api/create`, {\n            title: title,\n            genre: genre,\n            description: description,\n            image: response.data.image, \n            price : event.target.price.value,\n          })\n            .then((response) => {\n                // 2. Once the server has successfully created a new image, update your state that is visible to the user\n                this.setState({\n                  image: [response.data, ...this.state.image]\n                }, () => {\n                  //3. Once the state is update, redirect the user to the album page\n                  this.props.history.push('/album')\n                })\n\n            })\n            .catch((err) => {\n              console.log('Create failed', err)\n            })\n      })\n      .catch(() => {\n\n      })\n    \n  }\n\n  render(){\n    // const {images, loggedInUser, error} = this.state\n    // console.log(loggedInUser)\n    // const promise = (\"pk_test_51IQBtLFkKfnSJHLq0xXN8xtACkjCfSFAsW2Uy9KQQHSW62vON9kjz1MI7bYVRyaPxCGIQh0gpJxt8agOfMEuR0zs004rrOIKbc\");\n\n\n\n    return (\n      <div>\n        <MyNav onLogout={this.handleLogout} user={this.state.loggedInUser}/>\n        {/* <AllPurchases stripe={promise}>\n          {/* <CheckoutForm /> \n        </AllPurchases> */}\n        <Switch>\n          <Route exact path=\"/\" component={HomePage} />\n          <Route path=\"/signup\"  render={(routeProps) => {\n                return  <SignUp onSignUp={this.handleSignUp} {...routeProps}  />\n          }}\n          />\n          <Route path=\"/login\"  render={(routeProps) => {\n                return  <LogIn onLogIn={this.handleLogIn} {...routeProps}  />\n          }}\n          />\n          <Route exact path=\"/album\" render={(routeProps) => {\n                return  <MyAlbum  images={this.state.images}  {...routeProps}/>\n          }} \n          />\n          <Route path=\"/add-form\" render={(routeProps) => {\n                return <AddForm onAdd={this.handleSubmit}  {...routeProps}/>\n          }} \n          />\n          <Route  exact path=\"/album/:imageId\" render={(routeProps) => {\n                return <ImageDetail onDelete={this.handleDelete}  handleBuy={this.handleBuy} {...routeProps}/>\n            }} />\n           <Route exact path=\"/album/:imageId/edit\" render={(routeProps) => {\n                return <EditForm onEdit={this.handleEditImage} onDelete={this.handleDelete} {...routeProps}/>\n            }} />\n            {/* <Route exact path=\"/purchase\" render={(routeProps) => {\n                return <MyPurchase onBuy={this.handleBuy}  {...routeProps}/>\n            }} /> */}\n        </Switch>\n        <MyFooter />\n      </div>\n    )\n  }\n}\n\nexport default withRouter(App);\n\n\n\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}