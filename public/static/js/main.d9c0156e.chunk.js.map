{"version":3,"sources":["components/MyNav.js","components/MyFooter.js","config.js","pages/SignUp.js","pages/LogIn.js","pages/HomePage.js","pages/MyAlbum.js","components/ImageDetail.js","components/AddForm.js","components/EditForm.js","pages/MyPurchase.js","App.js","index.js"],"names":["MyNav","props","Navbar","bg","expand","Toggle","aria-controls","Collapse","id","Nav","className","to","user","onClick","onLogout","style","marginLeft","MyFooter","Component","process","SignUp","onSubmit","onSignUp","htmlFor","type","name","error","color","errorMessage","class","LogIn","console","log","onLogIn","HomePage","fontcolor","text","MyAlbum","images","map","image","width","src","imageUrl","alt","_id","title","ImageDetail","state","this","imageId","match","params","axios","get","config","then","response","setState","data","catch","onDelete","handleBuy","description","genre","price","AddForm","onAdd","placeholder","accept","EditForm","handleNameChange","event","target","value","cloneImage","JSON","parse","stringify","handleDescChange","onEdit","onChange","MyPurchase","purchases","withCredentials","eachPurchase","totalprice","App","loggedInUser","handleSignUp","preventDefault","username","email","password","post","history","push","err","handleLogIn","handleLogout","handlePurchase","purchase","image_id","date","Date","handleDelete","delete","filteredImages","filter","handleEditImage","patch","newAlbum","singleImage","Album","handleSubmit","files","uploadForm","FormData","append","exact","path","component","render","routeProps","onPurchase","withRouter","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d9c0156e.chunk.js","sourcesContent":["import React from  'react'\nimport {Navbar, Nav} from  'react-bootstrap'\nimport {Link} from  'react-router-dom'\n\nfunction MyNav(props) {\n  return (\n    <Navbar  bg=\"light\"  expand=\"lg\">\n      <Navbar.Toggle  aria-controls=\"basic-navbar-nav\"  />\n      <Navbar.Collapse  id=\"basic-navbar-nav\">\n        <Nav  className=\"mr-auto\">\n        <Link  to=\"/\">Home</Link>\n          <Link  to=\"/album\">Portfolio</Link>\n          <Link  to=\"/add-form\">Image upload</Link>\n          <Link  to=\"/purchase\">My Purchase</Link>\n          {\n            props.user ? (\n              <button onClick={props.onLogout}>Logout</button>\n            ) : (\n              <>\n                <Link  style={{marginLeft: '10px'}}  to=\"/login\">LogIn</Link>\n                <Link  style={{marginLeft: '10px'}}  to=\"/signup\">SignUp</Link>\n                <Link  style={{marginLeft: '10px'}}  to=\"/\">LogOut</Link>\n              </>\n            )\n          }\n        </Nav>\n      </Navbar.Collapse>\n    </Navbar>\n    )\n}\nexport default MyNav\n","import React, { Component } from 'react'\n\n class MyFooter extends Component {\n    render() {\n        return (\n            <div>\n                {/* <h5>This is the Footer</h5> */}\n            </div>\n        )\n    }\n}\nexport default MyFooter","export default {\n\tAPI_URL: process.env.REACT_APP_SERVER_URL\n}\n","import React from 'react';\n\nfunction SignUp(props){\n\n    return (\n        <form onSubmit={props.onSignUp}>\n            <div className=\"form-group\">\n                <label htmlFor=\"InputUsername\">Username</label>\n                <input type=\"text\" className=\"form-control\" id=\"InputUsername\" name=\"username\" />\n            </div>\n            <div className=\"form-group\">\n                <label htmlFor=\"InputEmail\">Email address</label>\n                <input type=\"email\" className=\"form-control\" id=\"InputEmail\" name=\"email\" />\n                <small id=\"emailHelp\" className=\"form-text text-muted\">We'll never share your email with anyone else.</small>\n            </div>\n            <div className=\"form-group\">\n                <label htmlFor=\"InputPassword\">Password</label>\n                <input name=\"password\" type=\"password\" className=\"form-control\" id=\"InputPassword\" />\n            </div>\n            {\n                props.error ? (\n                    <p style={{color: 'red'}}>{ props.error.errorMessage}</p>\n                ) : null\n            }\n            <div class=\"form-group mt-3 mb-4\">\n                <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\n            </div>\n        </form>\n    )\n}\n\nexport default SignUp\n","import React from 'react';\n\nfunction LogIn(props){\n    console.log('RENDERED LOGIN')\n    return (\n        <form onSubmit={props.onLogIn}>\n            <div className=\"form-group\">\n                <label htmlFor=\"InputEmail\">Email address</label>\n                <input type=\"email\" className=\"form-control\" id=\"InputEmail\" name=\"email\" />\n            </div>\n            <div className=\"form-group\">\n                <label htmlFor=\"InputPassword\">Password</label>\n                <input name=\"password\" type=\"password\" className=\"form-control\" id=\"InputPassword\" />\n            </div>\n            <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\n        </form>\n    )\n}\n\nexport default LogIn","import React, { Component } from 'react'\nimport { Link } from \"react-router-dom\"\n\n// import MyAlbum from \"./MyAlbum\";\n\n\n class HomePage extends Component {\n  render() {\n    return (\n      <div> \n        <div class=\"row text-center\" fontcolor=\"white\">\n          <h1>M.B. | Gallery</h1>\n          <h5>Welcome!</h5>\n        </div>\n      \n        <div class=\"container-sm\">\n        <div class=\"row text-center\" text=\"white\">\n          \n            <div class=\"text-center\">\n              <Link to={`/album`}><h2>My Portfolio</h2></Link>\n            </div>\n          </div>\n        </div>\n        </div>\n        \n    )\n  }\n}\n\nexport default HomePage;\n","import React from 'react';\nimport { Link } from \"react-router-dom\"\nimport {Spinner} from 'react-bootstrap'\n\nfunction MyAlbum(props) {\n\n  const showAlbum = () => {\n  \n    return props.images.map(image => {\n      return (\n        <div key={image._id}>\n          <img style={{ width: '300px' }} src={image.imageUrl} alt='this image' /> \n          <Link to={`/album/${image._id}`}><h2>{image.title}</h2></Link>\n        </div>\n      );\n    });\n  };\nreturn <div>{showAlbum()}</div>;\n}\n\nexport default MyAlbum;\n","import axios from 'axios'\nimport React, { Component } from 'react'\nimport config from '../config'\nimport {Link, Redirect} from 'react-router-dom'\n\n class ImageDetail extends Component {\n\n  state = {\n    image: {}\n  }\n\n\n  \n\n  componentDidMount(){\n    console.log(this.props) \n \n   let imageId = this.props.match.params.imageId\n    axios.get(`${config.API_URL}/api/album/${imageId}`)\n      .then((response) => {\n        this.setState({ image: response.data })\n      })\n      .catch(() => {\n        console.log('Detail fetch failed')\n      })\n  }\n\n  render() {\n    const {image} = this.state\n    const{onDelete, handleBuy, user}= this.props\n    console.log(this.props)\n\n    return (\n      <div>      \n        <img style={{ width: '400px' }} src={image.imageUrl} alt={image.title} />\n        <div>\n          <h5>{image.title}</h5>\n        </div>\n        <div>Description: <br/>\n          <p>{image.description}</p></div>\n          <div>Genre:<p>{image.genre}</p></div>\n          <div>Price:<p>{image.price} €</p></div>\n        <div>\n          <Link to={`/album/${image._id}/edit`}>\n            <button>Edit</button>\n          </Link>\n        <button onClick={() => { onDelete(image._id)  } } >Delete</button>\n        <button onClick={() => { handleBuy(image._id, image.price)  } } >Buy this picture</button>\n        </div>  \n      </div>\n    )\n  }\n}\nexport default ImageDetail;","import React, { Component } from 'react'\n\nclass AddForm extends Component {\n   \n    \n    render() {\n        return (\n          <form onSubmit={this.props.onAdd}>\n            <input name=\"title\" type=\"text\" placeholder=\"Enter title\"/>\n            <input name=\"genre\" type=\"text\" placeholder=\"Enter Genre\"/>\n            <input name=\"description\" type=\"text\" placeholder=\"Enter description\"/>\n            <input name=\"price\" type=\"number\" placeholder=\"Enter price in €\"/>\n            <input name=\"imageUrl\" type=\"file\" accept=\"image/png, image/jpg\"/>\n            <div class=\"form-group mt-3 mb-4\">\n              <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\n            </div>\n          </form>\n        )\n      }\n    }\n\n\nexport default AddForm","import axios from 'axios'\nimport React, { Component } from 'react'\nimport config from '../config'\n\nexport default class EditForm extends Component {\n\n  state = {\n    image: {}\n  }\n\n  componentDidMount(){\n    console.log(this.props) \n    let imageId = this.props.match.params.imageId\n    axios.get(`${config.API_URL}/api/album/${imageId}`)\n      .then((response) => {\n        this.setState({\n          image: response.data\n        })\n      })\n      .catch(() => {\n        console.log('Detail fetch failed')\n      })\n  }\n\n  handleNameChange = (event) => {\n    let text = event.target.value\n    console.log(text)\n    let cloneImage = JSON.parse(JSON.stringify(this.state.image))\n    cloneImage.title = text\n\n    this.setState({\n      image: cloneImage\n    })\n  }\n\n  handleDescChange = (event) => {\n    let text = event.target.value\n    let cloneImage = JSON.parse(JSON.stringify(this.state.image))\n    cloneImage.description = text\n\n    this.setState({\n      image: cloneImage\n    })\n  }\n\n  render() {\n    const {image} = this.state\n    const {onEdit} = this.props\n    return (\n      <div>\n          <h5>Title</h5><input type=\"text\" onChange={this.handleNameChange} value={image.title}/>\n          <h5>Description</h5> <input type=\"text\" onChange={this.handleDescChange} value={image.description}/>\n          <h5>Genre</h5> <input type=\"text\" onChange={this.handleDescChange} value={image.genre}/>\n          \n          <button onClick={ () => { onEdit(image) } }  >Submit</button>\n\n      </div>\n    )\n  }\n}\n\n","import React, { Component } from 'react';\nimport axios from \"axios\";\nimport config from '../config';\n\n\n class MyPurchase extends Component {\n    \n    state = {\n        purchases: [],\n        images: []\n    }\n\n\n    componentDidMount() {\n        // axios call here\n        // will get purchases from backend\n        // it will save purchases in purchases state\n        axios.get(`${config.API_URL}/api/purchase`, {withCredentials: true})\n        \n        .then((response) => {\n            console.log(\"response from API\", response.data)\n            this.setState({purchases: response.data})\n        })\n        .catch(() => {\n          console.log('Detail fetch failed')\n        })\n    }\n       \n    \n    render() {\n        const {purchases} = this.state\n        const {images} = this.state\n        return (\n            <div>\n                <h1>My purchases</h1>\n                {purchases.map(eachPurchase => {\n                    return (\n                        <h4>price= {eachPurchase.totalprice} €</h4>\n                    )\n                })}\n            </div>\n        )\n    }\n    }\n export default MyPurchase;\n","import React, { Component } from 'react'\nimport { Switch, Route, withRouter } from \"react-router-dom\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport MyNav from \"./components/MyNav\";\nimport MyFooter from \"./components/MyFooter\";\nimport axios from \"axios\";\nimport config from './config'\nimport SignUp from \"./pages/SignUp\";\nimport LogIn from \"./pages/LogIn\";\nimport HomePage from \"./pages/HomePage\";\nimport MyAlbum from \"./pages/MyAlbum\";\nimport ImageDetail from \"./components/ImageDetail\";\nimport AddForm from \"./components/AddForm\";\nimport EditForm from \"./components/EditForm\";\nimport MyPurchase from \"./pages/MyPurchase\";\n// import AllPurchases from \"./pages/AllPurchases\";\n// import { loadStripe } from \"@stripe/stripe-js\";\n// import { Elements } from \"@stripe/react-stripe-js\";\n// import CheckoutForm from \"./components/CheckoutForm\";\n\n\n// import MyNav from \"./components/MyNav\";\n\nclass App extends Component {\n  state = {\n    images: [],\n    loggedInUser: null,\n    error: null,\n  }\n\n  // Get initial data\n  componentDidMount(){\n    axios.get(`${config.API_URL}/api/album`, {withCredentials:true})\n      .then((response) => {\n        console.log(\"response from API\", response.data)\n        this.setState({ images: response.data})\n      })\n      .catch(() => {\n        console.log('Fetching failed')\n      })\n\n    if (!this.state.loggedInUser) {\n      axios.get(`${config.API_URL}/api/user`, {withCredentials: true})\n        .then((response) => {\n            this.setState({\n              loggedInUser: response.data\n            })\n        })\n        .catch(() => {\n\n        })\n    }  \n  }\n\n  handleSignUp = (event) => {\n    \n    event.preventDefault()\n    let user = {\n      username: event.target.username.value,\n      email: event.target.email.value,\n      password: event.target.password.value\n    } \n\n    axios.post(`${config.API_URL}/api/signup`, user, {withCredentials: true})\n      .then((response) => {\n          this.setState({\n            loggedInUser: response.data\n          }, () => {\n            this.props.history.push('/')\n          })\n      })\n      .catch((err) => {\n          this.setState({\n            error: err.response.data\n          })\n      })\n }\n\n handleLogIn = (event) => {\n   \n  event.preventDefault()\n  let user = {\n    email: event.target.email.value,\n    password: event.target.password.value\n  } \n\n  axios.post(`${config.API_URL}/api/login`, user, {withCredentials: true})\n    .then((response) => {\n        this.setState({\n          loggedInUser: response.data\n        }, () => {\n          this.props.history.push('/')\n        })\n    })\n    .catch((err) => {\n        console.log('Something went wrong', err)\n    })\n }\n\n handleLogout = () => {\n  \n  axios.post(`${config.API_URL}/api/logout`, {}, {withCredentials: true})\n  .then(() => {\n      this.setState({\n        loggedInUser: null\n      }, () => {\n        this.props.history.push('/')\n      })\n  })\n\n }\n\n handlePurchase = () => {\n  axios.get(`${config.API_URL}/api/purchase`, {}, {withCredentials: true})\n  const {images, loggedInUser, error} = this.state\n   .then(() => {\n      this.setState({\n        loggedInUser: null\n      }, () => {\n        this.props.history.push('/')\n      })\n  })\n\n }\n \n \n \n \n \n handleBuy = (purchase, price) => {\n    console.log(purchase)\n        //1. Make an API call to the server side Route to create a purchase\n      axios.post(`${config.API_URL}/api/purchase`, {\n          image_id: purchase,\n          totalprice: price,\n          date : new Date()\n\n        },\n        {withCredentials: true}\n        )\n        .then((response) => {\n            // 2. Once the server has successfully created a new image, update your state that is visible to the user\n            this.setState({\n              \n            }, () => {\n              //3. Once the state is update, redirect the user to the album page\n              this.props.history.push('/album')\n            })\n       })\n        .catch((err) => {\n          console.log('Create purchase failed', err)\n        })\n }\n\n handleDelete = (imageId) => {\n\n  //1. Make an API call to the server side Route to delete that specific image\n    axios.delete(`${config.API_URL}/api/album/${imageId}`, {}, {withCredentials: true})\n    // console.log(image._id)\n      .then(() => {\n         // 2. Once the server has successfully created a new image, update your state that is visible to the user\n          let filteredImages = this.state.image.filter((image) => {\n            return image._id !== imageId\n          })\n\n          this.setState({\n            image: filteredImages\n          }, () => {\n            this.props.history.push('/album')\n          })\n      })\n      .catch((err) => {\n        console.log('Delete failed', err)\n      })\n\n }\n\n handleEditImage = (image) => {\n   console.log(image)\n  axios.patch(`${config.API_URL}/api/album/${image._id}`, {\n    title: image.title,\n    genre: image.genre,\n    description: image.description,\n    imageUrl: image.imageUrl,\n    price: image.price,\n  }, {withCredentials: true})\n    .then(() => {\n        let newAlbum = this.state.images.map((singleImage) => {\n            if (image._id === singleImage._id) {\n              singleImage.title  = image.title\n              singleImage.description = image.description\n              singleImage.genre = image.genre\n              singleImage.price = image.price\n            }\n            return singleImage\n        })\n        this.setState({\n          Album: newAlbum\n        }, () => {\n          this.props.history.push(`/album/${image._id}`)\n        })\n\n        \n    })\n    .catch((err) => {\n      console.log('Edit failed', err)\n    })\n\n  }\n\n handleSubmit = (event) => {\n  event.preventDefault()\n    let title = event.target.title.value \n    let genre = event.target.genre.value\n    let description = event.target.description.value\n    let price = event.target.price.value\n    let image = event.target.imageUrl.files[0]\n  \n  let uploadForm = new FormData()\n  uploadForm.append('imageUrl', image)\n\n    // send image to cloudinary\n    axios.post(`${config.API_URL}/api/upload`, uploadForm, {withCredentials: true})\n      .then((response) => {\n            //1. Make an API call to the server side Route to create a new image\n          axios.post(`${config.API_URL}/api/create`, {\n            title: title,\n            genre: genre,\n            description: description,\n            image: response.data.image, \n            price : event.target.price.value,\n          })\n            .then((response) => {\n                // 2. Once the server has successfully created a new image, update your state that is visible to the user\n                this.setState({\n                  image: [response.data, ...this.state.image]\n                }, () => {\n                  //3. Once the state is update, redirect the user to the album page\n                  this.props.history.push('/album')\n                })\n\n            })\n            .catch((err) => {\n              console.log('Create failed', err)\n            })\n      })\n      .catch(() => {\n\n      })\n    \n  }\n\n  render(){\n   \n    return (\n      <div>\n        <MyNav onLogout={this.handleLogout} user={this.state.loggedInUser}/>\n        {/* <AllPurchases stripe={promise}>\n          {/* <CheckoutForm /> \n        </AllPurchases> */}\n        <Switch>\n          <Route exact path=\"/\" component={HomePage} />\n          <Route path=\"/signup\"  render={(routeProps) => {\n                return  <SignUp onSignUp={this.handleSignUp} {...routeProps}  />\n          }}\n          />\n          <Route path=\"/login\"  render={(routeProps) => {\n                return  <LogIn onLogIn={this.handleLogIn} {...routeProps}  />\n          }}\n          />\n          <Route exact path=\"/album\" render={(routeProps) => {\n                return  <MyAlbum  images={this.state.images}  {...routeProps}/>\n          }} \n          />\n          <Route path=\"/add-form\" render={(routeProps) => {\n                return <AddForm onAdd={this.handleSubmit}  {...routeProps}/>\n          }} \n          />\n          <Route  exact path=\"/album/:imageId\" render={(routeProps) => {\n                return <ImageDetail onDelete={this.handleDelete}  handleBuy={this.handleBuy} {...routeProps}/>\n            }} />\n           <Route exact path=\"/album/:imageId/edit\" render={(routeProps) => {\n                return <EditForm onEdit={this.handleEditImage} onDelete={this.handleDelete} {...routeProps}/>\n            }} />\n            <Route exact path=\"/purchase\" render={(routeProps) => {\n                return <MyPurchase onPurchase={this.handlePurchase}/>\n            }} />\n        </Switch>\n        <MyFooter />\n      </div>\n    )\n  }\n}\n\nexport default withRouter(App);\n\n\n\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}